<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="../templates/process_reg_layout.xhtml">
    <ui:define name="content">

        <div class="post" style="width: 1024px">
            <h1 class="title ui-widget-header ui-corner-all"> #{msgs.license_holder}</h1>
        </div>


        <h:form id="reghome">


            <h:panelGrid columns="1" cellpadding="10px">

                <h:panelGroup styleClass="ui-widget">
                    <p:messages id="messages" showDetail="true" showSummary="true"/>

                    <p:growl id="growl" showDetail="true" showSummary="true"/>

                    <p:panel header="#{msgs.lic_holder_detail}">
                        <ui:decorate template="/templates/licholderdetailtmpl.xhtml">
                            <ui:param name="licholderdata" value="#{licHolderBn.licenseHolder}"/>
                            <ui:param name="input" value="true"/>
                        </ui:decorate>

                    </p:panel>

<!--
                    <p:panel header="#{msgs.agentList}">

                        <h:panelGrid columns="2" cellpadding="10px">
                            <p:commandLink value="#{msgs.global_add}" oncomplete="PF('addAgentDlg').show()"
                                           style="font-weight: bolder; font-size: larger" update=":addAgentFrm :message"/>

                        </h:panelGrid>


                        <p:dataTable id="agents" var="agentInfo" value="#{licHolderBn.agentInfos}">
                            <p:column sortBy="#{agentInfo.agentType}">
                                <f:facet name="header">
                                    <h:outputText value="#{msgs.agent_type}"/>
                                </f:facet>
                                <p:commandLink id="viewLink" value="#{agentInfo.agentType}">
                                </p:commandLink>
                            </p:column>

                            <p:column sortBy="#{agentInfo.applicant.appName}">
                                <f:facet name="header">
                                    <h:outputText value="#{msgs.registration_applicant}"/>
                                </f:facet>
                                <h:outputText value="#{agentInfo.applicant.appName}"/>
                            </p:column>

                            <p:column sortBy="#{agentInfo.startDate}">
                                <f:facet name="header">
                                    <h:outputText value="#{msgs.global_startdate}"/>
                                </f:facet>
                                <h:outputLabel converter="javax.faces.DateTime"
                                               value="#{agentInfo.startDate}"/>
                            </p:column>

                            <p:column sortBy="#{agentInfo.endDate}">
                                <f:facet name="header">
                                    <h:outputText value="#{msgs.global_enddate}"/>
                                </f:facet>
                                <h:outputLabel converter="javax.faces.DateTime"
                                               value="#{agentInfo.endDate}"/>
                            </p:column>

                            <p:column sortBy="#{agentInfo.createdDate}">
                                <f:facet name="header">
                                    <h:outputText value="#{msgs.global_createdate}"/>
                                </f:facet>
                                <h:outputLabel converter="javax.faces.DateTime"
                                               value="#{agentInfo.createdDate}"/>
                            </p:column>
                            <p:column sortBy="#{agentInfo.createdBy.name}">
                                <f:facet name="header">
                                    <h:outputText value="#{msgs.created_by}"/>
                                </f:facet>
                                <h:outputText value="#{agentInfo.createdBy.name}"/>
                            </p:column>
                        </p:dataTable>

                    </p:panel>
-->

                </h:panelGroup>
            </h:panelGrid>

            <div align="center" style="height: 60px">
                <p:commandButton action="#{licHolderBn.updateLicHolder}" value="#{msgs.global_update}" ajax="false"
                                 rendered="#{not empty licHolderBn.licenseHolder.id}"/>
                <p:commandButton action="#{licHolderBn.addLicHolder}" value="#{msgs.global_submit}" ajax="false"
                                 rendered="#{empty licHolderBn.licenseHolder.id}"/>
                <p:commandButton action="#{licHolderBn.cancelAddLicHolder}" value="#{msgs.global_cancel}" ajax="false"
                                 immediate="true"/>
            </div>


        </h:form>

<!--
        <p:dialog header="#{msgs.global_add}" widgetVar="addAgentDlg" id="addAgentdlg" resizable="true" closable="false" modal="true">
            <p:messages id="message"/>
            <h:form id="addAgentFrm">
                <h:panelGrid columns="2" cellspacing="5" columnClasses="label, value" styleClass="grid">
                    <h:outputLabel value="#{msgs.applicant_name}" for="applicant"/>
                    <p:autoComplete id="applicant" value="#{licHolderBn.agentInfo.applicant}"
                                    completeMethod="#{licHolderBn.completeApplicantList}" dropdown="true"
                                    var="it" itemLabel="#{it.appName}" itemValue="#{it.applcntId}" forceSelection="true"
                                    converter="#{applicantConverter}">
                    </p:autoComplete>

                    <p:outputLabel value="#{msgs.agent_type}" for="forAgentTypecb"
                                   styleClass="fy-required-field"/>
                    <p:selectOneMenu id="forAgentTypecb" value="#{licHolderBn.agentInfo.agentType}"
                                     required="true">
                        <f:selectItem itemLabel="-" itemValue=""/>
                        <f:selectItems value="#{globalListsET.agentTypes}" var="agenttype"
                                       itemLabel="#{msgs[agenttype.key]}"/>
                    </p:selectOneMenu>

                    <p:outputLabel value="#{msgs.registration_date}" for="startDate"/>
                    <p:calendar id="startDate" value="#{licHolderBn.agentInfo.startDate}" showOn="button"
                                required="true">
                    </p:calendar>
                    <p:outputLabel value="#{msgs.expiry_date}"/>
                    <p:calendar value="#{licHolderBn.agentInfo.endDate}" id="expiryDate" showOn="button"
                                required="true"/>

                    <h:panelGroup>
                        <p:commandButton actionListener="#{licHolderBn.addAgent}" value="#{msgs.global_add}" ajax="true"
                                         update=":reghome:agents :addAgentdlg :message :reghome:growl" />
                        <p:commandButton action="#{licHolderBn.cancelAddAgent}" immediate="true"
                                         value="#{msgs.global_cancel}" oncomplete="PF('addAgentDlg').hide()"/>
                    </h:panelGroup>
                    <h:outputLabel/>

                </h:panelGrid>
            </h:form>
        </p:dialog>

-->

    </ui:define>
</ui:composition>
