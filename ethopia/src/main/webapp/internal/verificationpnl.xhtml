<!-- Creates the table with passed in values of product -->
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://java.sun.com/jsf/core">

    <h:panelGrid columns="1" style="margin-bottom:10px" cellpadding="10" cellspacing="10" id="verifypnl">
        <h:panelGrid columns="1" cellpadding="10" cellspacing="10">
            <p:outputLabel styleClass="hint"
                           value="Please issue a sample request letter if it is required as part of processing the applications."/>
        </h:panelGrid>


        <h:panelGrid columns="2" cellpadding="10" cellspacing="10">
            <p:outputLabel value="#{msgs.moderator_name}:" styleClass="label"/>
            <p:outputLabel value="#{processProdBn.moderator.username}" styleClass="label"/>

            <p:outputLabel value="#{msgs.application_fee}" styleClass="label" for="feerecieved"/>
            <p:selectBooleanButton id="feerecieved"
                                   value="#{processProdBn.prodApplications.feeReceived}"
                                   onLabel="#{msgs.global_yes}" offLabel="#{msgs.global_no}"
                                   onIcon="ui-icon-check"
                                   offIcon="ui-icon-close" style="width:60px">
                <p:ajax update=":reghome:growl :reghome"
                        listener="#{processProdBnET.changeStatusListener}" process=":reghome:processtab:verifypnl"/>
            </p:selectBooleanButton>

            <!--<p:outputLabel value="#{msgs.priority_no}" for="priordt" styleClass="label"/> -->
            <p:commandLink value="#{msgs.priority_no}" for="priordt" styleClass="label"
                           oncomplete="PF('verifQueue').show()" />
            <p:calendar value="#{processProdBn.prodApplications.priorityDate}"
                        pattern="dd.MM.yyyy HH:mm" showButtonPanel="true"
                        stepMinute="5" minHour="8" maxHour="19" mindate="#{now}"
                        id="priordt" showOn="button"/>
            <p:outputLabel value="#{msgs.fee_amt}" styleClass="label"/>
            <h:outputText value="#{processProdBn.prodApplications.feeAmt}">
                <f:convertNumber type="currency" currencySymbol="$"/>
            </h:outputText>

            <p:outputLabel value="#{msgs.bank_name}" for="bankname" styleClass="label"/>
            <p:inputText id="bankname" value="#{processProdBn.prodApplications.bankName}" style="width: 400px;"/>

            <p:outputLabel value="#{msgs.reciept_no}" for="receiptno" styleClass="label"/>
            <p:inputText id="receiptno" value="#{processProdBn.prodApplications.receiptNo}"/>

            <p:outputLabel value="#{msgs.fee_submit_date}" for="feesubmitdt" styleClass="label"/>
            <p:calendar value="#{processProdBn.prodApplications.feeSubmittedDt}" id="feesubmitdt" showOn="button"/>

            <p:outputLabel value="#{msgs.app_detail_complete}" styleClass="label"
                           for="appverify"/>
            <p:selectBooleanButton id="appverify"
                                   value="#{processProdBn.prodApplications.applicantVerified}"
                                   onLabel="#{msgs.global_yes}" offLabel="#{msgs.global_no}"
                                   onIcon="ui-icon-check"
                                   offIcon="ui-icon-close" style="width:60px">
                <p:ajax update=":reghome:growl :reghome"
                        listener="#{processProdBnET.changeStatusListener}" process=":reghome:processtab:verifypnl"/>
            </p:selectBooleanButton>

            <p:outputLabel value="#{msgs.med_detail_complete}" styleClass="label"
                           for="prodverify"/>
            <p:selectBooleanButton id="prodverify"
                                   value="#{processProdBn.prodApplications.productVerified}"
                                   onLabel="#{msgs.global_yes}" offLabel="#{msgs.global_no}"
                                   onIcon="ui-icon-check"
                                   offIcon="ui-icon-close" style="width:60px">
                <p:ajax update=":reghome:growl :reghome"
                        listener="#{processProdBnET.changeStatusListener}" process=":reghome:processtab:verifypnl"/>
            </p:selectBooleanButton>

            <p:outputLabel value="#{msgs.dossier_complete}" styleClass="label"
                           for="dosscomplete"/>
            <p:selectBooleanButton id="dosscomplete"
                                   value="#{processProdBn.prodApplications.dossierReceived}"
                                   onLabel="#{msgs.global_yes}" offLabel="#{msgs.global_no}"
                                   onIcon="ui-icon-check"
                                   offIcon="ui-icon-close" style="width:60px">
                <p:ajax update=":reghome:growl :reghome"
                        listener="#{processProdBnET.changeStatusListener}" process=":reghome:processtab:verifypnl"/>
            </p:selectBooleanButton>

        </h:panelGrid>
    </h:panelGrid>

    <p:dialog id="verifQueue" widgetVar="verifQueue" header="#{msgs.prod_not_verified}" width="60%">
        <h:form>
            <p:dataTable scrollable="true" widgetVar="vqTable" id = "vqTable"
                         value="#{processProdBnET.verApps}" var="app" >
                <p:column>
                    <f:facet name="header">
                        <h:outputText value="#{msgs.application_no}" />
                    </f:facet>
                    <h:outputText value="#{app.prodAppNo}" />
                </p:column>

                <p:column>
                    <f:facet name="header">
                        <h:outputText value="#{msgs.priority_no}"/>
                    </f:facet>
                    <h:outputText value="#{app.priorityDate}" />
                </p:column>

                <p:column>
                    <f:facet name="header">
                        <h:outputText value="#{msgs.prod_name}"/>
                    </f:facet>
                    <h:outputText value="#{app.product.prodName}" />
                </p:column>

                <p:column>
                    <f:facet name="header">
                        <h:outputText value="#{msgs.applicant}"/>
                    </f:facet>
                    <h:outputText value="#{app.applicant.appName}" />
                </p:column>

            </p:dataTable>

            <p:commandButton
                value="#{msgs.global_close}"
                oncomplete="PF('verifQueue').hide()"
            />

        </h:form>
    </p:dialog>

</ui:composition>
