<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
        >

    <p:panel header="#{msgs.person_responsible}">
        <h:panelGrid columns="1" cellpadding="10px">
            <p:commandLink value="#{msgs.user_lookup}" oncomplete="PF('addUserDlg').show()"
                           immediate="true" style="font-weight: bolder; font-size: larger"/>
            <p:outputLabel value="#{msgs.user_lookup_info}" styleClass="hint"/>

        </h:panelGrid>

        <p:dataTable id="usertable" var="user" value="#{processAppBn.userList}" style="width:100%;">
            <p:column headerText="#{msgs.User_name}">
                <h:outputText value="#{user.name}"/>
            </p:column>

            <p:column headerText="#{msgs.User_username}">
                <h:outputText value="#{user.username}"/>
            </p:column>

            <p:column headerText="#{msgs.User_email}">
                <h:outputText value="#{user.email}"/>
            </p:column>
        </p:dataTable>

    </p:panel>

    <p:dialog header="#{msgs.user_add}" widgetVar="addUserDlg" id="addUserdlg" resizable="true" modal="true">
        <h:form>
            <p:outputLabel value="#{msgs.userselect_info}" styleClass="hint"/>
            <h:panelGrid columns="2" cellspacing="5" columnClasses="label, value" styleClass="grid">
                <h:outputLabel value="#{msgs.User_username}" for="username"/>
                <p:autoComplete id="username" value="#{processAppBn.user}"
                                completeMethod="#{processAppBn.completeUserList}" dropdown="true"
                                var="it" itemLabel="#{it.name}" itemValue="#{it.userId}" forceSelection="true"
                                converter="#{userConverter}">
                </p:autoComplete>

                <h:panelGroup>
                    <p:commandButton actionListener="#{processAppBn.addUserToApplicant}" value="#{msgs.global_add}"
                                     ajax="false" oncomplete="addUserDlg.hide()"/>
                    <p:commandButton action="#{processAppBn.cancelAddUser}" immediate="true"
                                     value="#{msgs.global_cancel}" oncomplete="addUserDlg.hide()"/>
                </h:panelGroup>
                <h:outputLabel/>

            </h:panelGrid>
        </h:form>
    </p:dialog>


</ui:composition>
