<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:p="http://primefaces.org/ui" xmlns:f="http://java.sun.com/jsf/core"
        template="../templates/registration_layout.xhtml">
    <ui:define name="regcontent">

    <p:messages id="messages" showDetail="true"/>
        <h:form prependId="false">
            <p:panel header="#{msgs.variation}">
                <h:panelGrid columns="3" cellpadding="5">
                    <h:outputLabel value="#{msgs.search_prod}: " for="basicPojo"/>
                    <p:autoComplete value="#{reRegListBean.prodTable}" id="basicPojo"
                                    completeMethod="#{reRegListBean.completeProduct}"
                                    var="p" itemLabel="#{p.prodName}" itemValue="#{p.id}"
                                    converter="#{productConverter}" forceSelection="true"
                    >
                        <p:ajax event="itemSelect" listener="#{reRegListBean.onItemSelect}" update="@form" process="@form"/>
                    </p:autoComplete>
                    <p:commandButton value="#{msgs.global_submit}"
                                     action="#{reNewBean.startReregistration(reNewBean.variationType)}"
                                     ajax="false">
                        <f:param name="prodAppID" value="#{reRegListBean.prodTable.id}"/>
                    </p:commandButton>
                </h:panelGrid>
            </p:panel>
               <p:dataTable id="applicantions" var="eachprod" value="#{reRegListBean.prodapppList}"
                         rendered="#{not empty prodAppMBean.savedAppList}">

                <p:column headerText="Product Name">
                    <p:commandLink value="#{eachprod.product.prodName}"
                                   action="/secure/prodreghome.faces" ajax="false">
                        <f:param value="#{eachprod.id}" name="prodAppID"/>
                    </p:commandLink>
                </p:column>

                <p:column headerText="Generic Name">
                    #{eachprod.product.genName}
                </p:column>

                <p:column headerText="Registration Status">
                    #{msgs[eachprod.regState.key]}
                </p:column>

                <p:column headerText="#{msgs.prod_cat}">
                    #{msgs[eachprod.product.prodCategory.key]}
                </p:column>

                <p:column headerText="#{msgs.applicant_name}">
                    #{eachprod.applicant.appName}
                </p:column>

                <p:column headerText="Manufacturer Name">
                    #{eachprod.product.manufName}
                </p:column>
            </p:dataTable>
            
       <!--  <p:panel header="#{msgs.product_list}">
                <p:dataTable id="applicantions" var="eachprod" value="#{reRegListBean.prodapppList}">
                    <p:column filterBy="#{eachprod.prodName}"
                              sortBy="#{eachprod.prodName}">
                        <f:facet name="header">
                            <h:outputText value="#{msgs.prod_name}"/>
                        </f:facet>
                        <p:commandLink id="viewLink" value="#{eachprod.prodName}"
                                      action="productdetail"
                                   ajax="false">
                     
                            <f:param name="ProcID" value="#{eachprod.id}"/>
                        </p:commandLink>
                    </p:column>

                    <p:column filterBy="#{eachprod.genName}"
                              sortBy="#{eachprod.genName}">
                        <f:facet name="header">
                            <h:outputText value="#{msgs.prodgenname}"/>
                        </f:facet>
                        <h:outputText value="#{eachprod.genName}"/>
                    </p:column>

                    <p:column filterBy="#{eachprod.regDate}"
                              sortBy="#{eachprod.regDate}">
                        <f:facet name="header">
                            <h:outputText value="#{msgs.global_createdate}"/>
                        </f:facet>
                        <h:outputText value="#{eachprod.regDate}"/>
                    </p:column>
                    <p:column >
                        <f:facet name="header">
                            <h:outputText value="#{msgs.applicant}"/>
                        </f:facet>
                        <h:outputText value="#{eachprod.appName}"/>
                    </p:column>
                    <p:column >
                        <f:facet name="header">
                            <h:outputText value="#{msgs.manuf_name}"/>
                        </f:facet>
                        <h:outputText value="#{eachprod.manufName}"/>
                    </p:column>
                    <p:column >
                        <f:facet name="header">
                            <h:outputText value="#{msgs.prod_app_no}"/>
                        </f:facet>
                        <h:outputText value="#{eachprod.regNo}"/>
                    </p:column>

                </p:dataTable>
            </p:panel>  -->
        </h:form>
    </ui:define>
</ui:composition>
