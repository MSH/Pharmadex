<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:o="http://omnifaces.org/ui"
                template="../templates/registration_layout.xhtml">
                
	<ui:define name="regcontent">
        <div class="post">
            <h1 class="title ui-widget-header ui-corner-all"> #{msgs.registration_product}</h1>
        </div>
        <h:form prependId="false">
        	<p:growl id="growl" showDetail="false" showSummary="true" />
	        <p:panel toggleable="true" toggleSpeed="250" header="#{msgs.filter_regprods}">
	        	<h:panelGrid columns="4" cellspacing="5" columnClasses="col1, col2, col1, col2" >
	            	<p:outputLabel value="#{msgs.product_innname}"/>
	                <p:autoComplete id="alllist" value="#{filterMBean.currentInn}" 
					                completeMethod="#{globalEntityLists.completeInnCodes}" 
					                converter="#{innConverter}"
					                var="it" itemLabel="#{it.name}" itemValue="#{it.id}" forceSelection="true"
					                scrollHeight="200">
						<p:ajax event="itemSelect" listener="#{filterMBean.onItemSelect}" update="@form"
					    		process="@form"/>
					</p:autoComplete>
					<p:outputLabel/>
					<p:outputLabel/>
					
					<p:outputLabel value="#{msgs.global_startdate}" />
					<p:calendar value="#{filterMBean.startDate}"
							id="startDate" showOn="button" required="true"
							navigator="true"
							pattern="#{userAccessMBean.workspace.datePattern}">
					</p:calendar>
					
					<p:outputLabel value="#{msgs.global_enddate}" />
					<p:calendar value="#{filterMBean.endDate}"
							id="endDate" showOn="button" required="true"
							navigator="true"
							pattern="#{userAccessMBean.workspace.datePattern}">
					</p:calendar>
						
					<p:commandButton action="#{filterMBean.filterClick()}" value="#{msgs.global_filter}"
	                                 update=":products growl"/>
	                <p:commandButton action="#{filterMBean.clearClick()}" value="#{msgs.global_clear}"
	                                 update=":products :startDate :endDate :alllist"/>
	                <p:outputLabel/>
					<p:outputLabel/>
				</h:panelGrid>
	        </p:panel>
		</h:form>
		
		<ui:include src="../templates/registerproductstempl.xhtml"/>
    </ui:define>
</ui:composition>
